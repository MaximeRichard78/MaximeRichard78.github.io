<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vite et Bien</title>
    <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet">
    <style>
        body {
            background: #87CEEB; /* Light blue background */
            color: #FFFFFF; /* White text color */
            overflow-x: hidden;
            position: relative;
        }
        .bubble {
            position: absolute;
            background: rgba(255, 255, 255, 0.7);
            border-radius: 50%;
            opacity: 0.5;
        }
        .bubble.left {
            left: 0;
        }
        .bubble.right {
            right: 0;
        }
        .bubble:nth-child(1) {
            width: 40px;
            height: 40px;
            top: 10%;
        }
        .bubble:nth-child(2) {
            width: 60px;
            height: 60px;
            top: 20%;
        }
        .bubble:nth-child(3) {
            width: 80px;
            height: 80px;
            top: 30%;
        }
        .bubble:nth-child(4) {
            width: 50px;
            height: 50px;
            top: 40%;
        }
        .bubble:nth-child(5) {
            width: 70px;
            height: 70px;
            top: 50%;
        }
        .bubble:nth-child(6) {
            width: 90px;
            height: 90px;
            top: 60%;
        }
        .bubble:nth-child(7) {
            width: 30px;
            height: 30px;
            top: 70%;
        }
        .bubble:nth-child(8) {
            width: 100px;
            height: 100px;
            top: 80%;
        }
        .bubble:nth-child(9) {
            width: 45px;
            height: 45px;
            top: 90%;
        }
        .city-links {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-top: 20px;
        }
        .city-links a {
            font-size: 1.5rem;
            text-decoration: none;
            color: #007bff;
        }
        .city-links a:hover {
            text-decoration: underline;
        }
        .image-container {
            display: none;
            justify-content: center;
            flex-wrap: wrap;
            gap: 10px;
            margin-top: 20px;
            max-height: 80vh; /* Limit the height of the container */
            overflow-y: auto; /* Enable vertical scrolling */
        }
        .image-container img {
            max-width: 200px;
            max-height: 200px;
        }
        .maps-button {
            display: none;
            justify-content: center;
            margin-top: 20px;
        }
        .opening-hours {
            display: none;
            justify-content: center;
            margin-top: 20px;
            text-align: center;
        }
    </style>
</head>
<body>
    <div class="bubble left"></div>
    <div class="bubble left"></div>
    <div class="bubble left"></div>
    <div class="bubble left"></div>
    <div class="bubble left"></div>
    <div class="bubble right"></div>
    <div class="bubble right"></div>
    <div class="bubble right"></div>
    <div class="bubble right"></div>
    <div class="container">
        <header class="my-5">
            <h1 class="text-center">Bienvenue sur le site de l'entreprise Vite et Bien</h1>
            <p class="text-center">Bienvenue chez Vite et Bien, votre solution de laverie automatique moderne et pratique. Nous sommes spécialisés dans la gestion de laveries automatiques, offrant un service rapide, fiable et accessible à tous. Chez Vite et Bien, nous comprenons l'importance de votre temps. C'est pourquoi nous vous proposons des laveries automatiques ouvertes de 7h à 22h, selon l'emplacement, pour s'adapter à votre emploi du temps.
                Pour faciliter encore plus votre expérience, toutes nos laveries sont équipées de systèmes de <b>paiement par carte</b>, vous permettant de laver et sécher votre linge sans souci. Que vous soyez pressé ou que vous souhaitiez simplement un service sans tracas, Vite et Bien est là pour vous offrir la qualité et la rapidité que vous méritez.
                Découvrez nos emplacements ci-dessous.</p>
        </header>
        <section>
            <div class="city-links">
                <a href="#" data-folder="plaisir/image" id="linkPlaisir">Plaisir</a>
                <a href="#" data-folder="les-clayes-sous-bois/image" id="linkLesClayesSousBois">Les Clayes-sous-Bois</a>
                <a href="#" data-folder="saint-germain-en-laye/image" id="linkSaintGermainEnLaye">Saint-Germain-en-Laye</a>
            </div>
            <div class="maps-button" id="mapsButtonPlaisir">
                <a href="https://www.google.com/maps/dir//28+Av.+du+19+Mars+1962,+78370+Plaisir/@48.8314037,1.8598062,12z/data=!4m8!4m7!1m0!1m5!1m1!1s0x47e6857c52fe5941:0x7bba0948d0ef7334!2m2!1d1.9422066!2d48.8314331?entry=ttu" class="btn btn-primary" target="_blank">Trouver la laverie</a>
            </div>
            <div class="opening-hours" id="openingHoursPlaisir">
                <p>Horaires d'ouverture : 7h - 21h</p>
            </div>
            <div class="maps-button" id="mapsButtonLesClayesSousBois">
                <a href="https://www.google.com/maps/dir//40+Rue+Maurice+Jouet,+78340+Les+Clayes-sous-Bois/@48.8233326,1.9085556,12z/data=!4m8!4m7!1m0!1m5!1m1!1s0x47e685d49b3809e3:0x46dd2ea92c22ff09!2m2!1d1.990956!2d48.823362?entry=ttu" class="btn btn-primary" target="_blank">Trouver la laverie</a>
            </div>
            <div class="opening-hours" id="openingHoursLesClayesSousBois">
                <p>Horaires d'ouverture : 8h - 22h</p>
            </div>
            <div class="maps-button" id="mapsButtonSaintGermain">
                <a href="https://www.google.com/maps/dir//1+Rue+Armagis,+78100+Saint-Germain-en-Laye/@48.8985289,2.0045759,12z/data=!4m8!4m7!1m0!1m5!1m1!1s0x47e689e969b7526f:0xdcc1ab248da54d9!2m2!1d2.0869763!2d48.8985583?entry=ttu" class="btn btn-primary" target="_blank">Trouver la laverie</a>
            </div>
            <div class="opening-hours" id="openingHoursSaintGermain">
                <p>Horaires d'ouverture : 7h30 - 22h</p>
            </div>
            <div class="image-container" id="imageContainer"></div>
        </section>
    </div>
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.5.4/dist/umd/popper.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function () {
            const cityLinks = document.querySelectorAll('.city-links a');
            const imageContainer = document.getElementById('imageContainer');
            const mapsButtonPlaisir = document.getElementById('mapsButtonPlaisir');
            const mapsButtonLesClayesSousBois = document.getElementById('mapsButtonLesClayesSousBois');
            const mapsButtonSaintGermain = document.getElementById('mapsButtonSaintGermain');
            const openingHoursPlaisir = document.getElementById('openingHoursPlaisir');
            const openingHoursLesClayesSousBois = document.getElementById('openingHoursLesClayesSousBois');
            const openingHoursSaintGermain = document.getElementById('openingHoursSaintGermain');
            let currentFolder = '';

            cityLinks.forEach(link => {
                link.addEventListener('click', function (event) {
                    event.preventDefault();
                    const folder = link.getAttribute('data-folder');
                    if (currentFolder === folder) {
                        // If the same city is clicked again, hide the images and reset the current folder
                        imageContainer.style.display = 'none';
                        mapsButtonPlaisir.style.display = 'none';
                        mapsButtonLesClayesSousBois.style.display = 'none';
                        mapsButtonSaintGermain.style.display = 'none';
                        openingHoursPlaisir.style.display = 'none';
                        openingHoursLesClayesSousBois.style.display = 'none';
                        openingHoursSaintGermain.style.display = 'none';
                        currentFolder = '';
                    } else {
                        // If a different city is clicked, fetch and display the images
                        currentFolder = folder;
                        fetchImages(folder);
                        if (folder === 'plaisir/image') {
                            mapsButtonPlaisir.style.display = 'flex';
                            mapsButtonLesClayesSousBois.style.display = 'none';
                            mapsButtonSaintGermain.style.display = 'none';
                            openingHoursPlaisir.style.display = 'block';
                            openingHoursLesClayesSousBois.style.display = 'none';
                            openingHoursSaintGermain.style.display = 'none';
                        } else if (folder === 'les-clayes-sous-bois/image') {
                            mapsButtonLesClayesSousBois.style.display = 'flex';
                            mapsButtonPlaisir.style.display = 'none';
                            mapsButtonSaintGermain.style.display = 'none';
                            openingHoursLesClayesSousBois.style.display = 'block';
                            openingHoursPlaisir.style.display = 'none';
                            openingHoursSaintGermain.style.display = 'none';
                        } else if (folder === 'saint-germain-en-laye/image') {
                            mapsButtonSaintGermain.style.display = 'flex';
                            mapsButtonPlaisir.style.display = 'none';
                            mapsButtonLesClayesSousBois.style.display = 'none';
                            openingHoursSaintGermain.style.display = 'block';
                            openingHoursPlaisir.style.display = 'none';
                            openingHoursLesClayesSousBois.style.display = 'none';
                        } else {
                            mapsButtonPlaisir.style.display = 'none';
                            mapsButtonLesClayesSousBois.style.display = 'none';
                            mapsButtonSaintGermain.style.display = 'none';
                            openingHoursPlaisir.style.display = 'none';
                            openingHoursLesClayesSousBois.style.display = 'none';
                            openingHoursSaintGermain.style.display = 'none';
                        }
                    }
                });
            });

            function fetchImages(folder) {
                fetch(`${folder}/`)
                    .then(response => response.text())
                    .then(data => {
                        console.log('Fetched data:', data); // Log the fetched data
                        const parser = new DOMParser();
                        const doc = parser.parseFromString(data, 'text/html');
                        const images = Array.from(doc.querySelectorAll('a'))
                            .filter(link => link.href.match(/\.(jpe?g|png|gif)$/i))
                            .map(link => link.href);

                        console.log('Filtered images:', images); // Log the filtered images

                        imageContainer.innerHTML = '';
                        images.forEach(image => {
                            const imgElement = document.createElement('img');
                            imgElement.src = image;
                            imgElement.className = 'img-fluid mb-2';
                            imgElement.alt = 'Image';
                            imageContainer.appendChild(imgElement);
                        });
                        imageContainer.style.display = 'flex';
                    })
                    .catch(error => console.error('Error fetching images:', error));
            }
        });
    </script>
</body>
</html>